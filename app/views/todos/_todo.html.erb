<li id="<%= dom_id(todo) %>" class="flex items-center gap-3 p-3 transparent  border-b-1 border-slate-200" data-testid="todo-item">
  <%= form_with(model: todo, class: "flex-shrink-0") do |form| %>
    <%= form.check_box :status,
        class: "w-5 h-5 border-2 border-gray-300 rounded cursor-pointer hover:border-blue-500 transition-colors #{'bg-blue-500 border-blue-500' if todo.status}",
        onchange: "this.form.requestSubmit()",
        data: { 
          turbo: true,
          testid: "todo-checkbox"
        } %>
  <% end %>

  <span class="flex-1 text-gray-900 <%= 'line-through text-gray-50' if todo.status %>" data-testid="todo-title">
    <%= todo.title %>
  </span>

  <div class="flex items-center gap-2">
    <%= button_to todo_path(todo), 
        method: :delete, 
        data: { 
          turbo: false, 
          confirm: "Are you sure you want to delete this quest?",
          testid: "delete-todo-button"
        }, 
        class: "p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1 transition-colors",
        title: "Delete quest" do %>
      <!-- Trash Icon -->
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1-1H8a1 1 0 00-1 1v3M4 7h16"></path>
      </svg>
    <% end %>
  </div>
</li>